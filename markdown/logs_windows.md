Restarted application in 589ms.
UPDATE_SERVICE: initialized | version=0.1.9, dir=D:\Repositories\Broker-App
UPDATE_SERVICE: env_snapshot | cwd=D:\Repositories\Broker-App, exe=D:\Repositories\Broker-App\build\windows\x64\runner\Debug\mat_finance.exe, os="Windows 10 Pro" 10.0 (Build 26100), dart=3.8.1 (stable) (Wed May 28 00:47:25 2025 -0700) on "windows_x64"
ğŸ”„ SPLASH_SERVICE: Attempt 1/3 to fetch meetings
CLIENTS_SERVICE: load_clients_ms | ms=36
[ERROR:flutter/shell/common/shell.cc(1064)] The 'plugins.flutter.io/firebase_firestore/query/dc1e587d-2147-44ca-8859-4a250cf931d3' channel sent a message from native to Flutter on a non-platform thread. Platform channel messages must be sent on the platform thread. Failure to do so may result in data loss or crashes, and must be fixed in the plugin or application code creating that channel.
See https://docs.flutter.dev/platform-integration/platform-channels#channels-and-platform-threading for more information.
[ERROR:flutter/shell/common/shell.cc(1064)] The 'plugins.flutter.io/firebase_firestore/query/d739318a-3329-46c5-b055-fab7eb2f485d' channel sent a message from native to Flutter on a non-platform thread. Platform channel messages must be sent on the platform thread. Failure to do so may result in data loss or crashes, and must be fixed in the plugin or application code creating that channel.
See https://docs.flutter.dev/platform-integration/platform-channels#channels-and-platform-threading for more information.
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ğŸ” FIREBASE_SERVICE: Fetching team meetings for team: Echipa Andreea
ğŸ“Š DASHBOARD_SERVICE: Loading consultants ranking | isSupervisor: false
ğŸ“Š DASHBOARD_SERVICE: Loading teams ranking | isSupervisor: false
ğŸ‘¥ FIREBASE_SERVICE: Found 2 consultants in team Echipa Andreea
ğŸ“¦ FIREBASE_SERVICE: Processing chunk 1 with 2 tokens
[FIREBASE] MEETINGS: getAllMeetings loaded 0 in 154ms
ğŸ“¥ FIREBASE_SERVICE: Chunk 1 returned 0 meetings
âœ… FIREBASE_SERVICE: Successfully fetched 0 meetings from 1 chunks in 204ms
FIREBASE_SERVICE: team_meetings_ms | ms=204, tokens=2
âœ… SPLASH_SERVICE: Successfully fetched 0 meetings on attempt 1 (341ms)
SPLASH_SERVICE: refresh_meetings_cache_ms | ms=341
! SPLASH_SERVICE: No current team set for caching meetings
âœ… SPLASH_SERVICE: Successfully refreshed meetings cache: 0 meetings
ğŸ“Š DASHBOARD_SERVICE: Loaded 3 consultants | isSupervisor: false | Teams excluded: 0
ğŸ“Š DASHBOARD_SERVICE: Found teams (with base): [Echipa Andreea, Echipa Cristina, Echipa Scarlat]
ğŸ“Š DASHBOARD_SERVICE: Loaded 3 teams | isSupervisor: false
ğŸ“Š DASHBOARD_SERVICE: Loading consultants ranking | isSupervisor: false
ğŸ“Š DASHBOARD_SERVICE: Loading teams ranking | isSupervisor: false
ğŸ“Š DASHBOARD_SERVICE: Loaded 3 teams from cache | isSupervisor: false
[FIREBASE] MEETINGS: getAllMeetings loaded 0 in 303ms
ğŸ“Š SPLASH_SERVICE: Performance Metrics:
  Initializare servicii...: 11ms
  Preincarcare date...: 2440ms
  Sincronizare servicii...: 21ms
  Optimizare cache...: 1ms
  Finalizare...: 0ms
SPLASH: Current role: Consultant
ğŸ”„ SPLASH: Consultant/team changed, resetting state
ğŸ”§ SPLASH: Old consultant: null, New: d4bdf2f4-d95a-4937-ac51-2934f015ec5d
ğŸ”§ SPLASH: Old team: null, New: Echipa Andreea
ğŸ”„ SPLASH: Reloading services for new consultant
ğŸ“Š DASHBOARD_SERVICE: Loading consultants ranking | isSupervisor: false
ğŸ“Š DASHBOARD_SERVICE: Loading teams ranking | isSupervisor: false
ğŸ“Š DASHBOARD_SERVICE: Loaded 3 teams from cache | isSupervisor: false
[ERROR:flutter/shell/common/shell.cc(1064)] The 'plugins.flutter.io/firebase_firestore/query/d4a32e74-fbf5-49cb-bc96-5153f9048764' channel sent a message from native to Flutter on a non-platform thread. Platform channel messages must be sent on the platform thread. Failure to do so may result in data loss or crashes, and must be fixed in the plugin or application code creating that channel.
See https://docs.flutter.dev/platform-integration/platform-channels#channels-and-platform-threading for more information.
CLIENTS_SERVICE: load_clients_ms | ms=126
[ERROR:flutter/shell/common/shell.cc(1064)] The 'plugins.flutter.io/firebase_firestore/query/0aef935e-06c3-4475-838a-cad83d678fab' channel sent a message from native to Flutter on a non-platform thread. Platform channel messages must be sent on the platform thread. Failure to do so may result in data loss or crashes, and must be fixed in the plugin or application code creating that channel.
See https://docs.flutter.dev/platform-integration/platform-channels#channels-and-platform-threading for more information.
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
[FIREBASE] MEETINGS: getAllMeetings loaded 0 in 134ms
ğŸ”„ SPLASH: Invalidating cache with enhanced state management
âœ… SPLASH: Cache invalidation completed successfully
âœ… SPLASH: Services reloaded successfully for new consultant
âœ… SPLASH: Consultant reset completed successfully
MAIN_SCREEN: init_state
MAIN_SCREEN: build_called
ANIM_METRICS: start | label=area_change to AreaType.dashboard
ANIM_METRICS: end | reason=incoming_completed totalMs=1 frames=0 avgBuildMs=0.00 avgRasterMs=0.00 maxBuildMs=0.00 maxRasterMs=0.00 jankBuild=0 jankRaster=0
MAIN_SCREEN: post_frame_callback
MAIN_SCREEN: whats_new_check_start
UPDATE_SERVICE: release_info_missing | path=C:\Users\Home\AppData\Roaming\com.example\MAT Finance/updates/last_release.json
MAIN_SCREEN: whats_new_info_result | is_null=true
MAIN_SCREEN: whats_new_missing
ğŸ¤– LLM_SERVICE: Conversation loaded for consultant: d4bdf2f4... (2 messages)
SPLASH: Current role: Consultant
âœ… SPLASH: Consultant/team unchanged, no reset needed
ANIM_METRICS: start | label=area_change to AreaType.dashboard
CALENDAR_METRICS: filterWeek offset=0 total=0 week=0 filterMs=0
CALENDAR_METRICS: loadFromCacheInstantly totalMs=0 cacheMs=0 filterMs=0 allMeetings=0 weekMeetings=0
ğŸ”„ SPLASH_SERVICE: Attempt 1/3 to fetch meetings
ğŸ” FIREBASE_SERVICE: Fetching team meetings for team: Echipa Andreea
ğŸ‘¥ FIREBASE_SERVICE: Found 2 consultants in team Echipa Andreea
ğŸ“¦ FIREBASE_SERVICE: Processing chunk 1 with 2 tokens
ğŸ“¥ FIREBASE_SERVICE: Chunk 1 returned 0 meetings
âœ… FIREBASE_SERVICE: Successfully fetched 0 meetings from 1 chunks in 156ms
FIREBASE_SERVICE: team_meetings_ms | ms=156, tokens=2
âœ… SPLASH_SERVICE: Successfully fetched 0 meetings on attempt 1 (289ms)
SPLASH_SERVICE: refresh_meetings_cache_ms | ms=289
ğŸ’¾ SPLASH_SERVICE: Cached 0 meetings for team Echipa Andreea
CALENDAR_METRICS: filterWeek offset=0 total=0 week=0 filterMs=0
âœ… SPLASH_SERVICE: Successfully refreshed meetings cache: 0 meetings
ANIM_METRICS: end | reason=incoming_completed totalMs=1674 frames=102 avgBuildMs=4.56 avgRasterMs=0.98 maxBuildMs=150.45 maxRasterMs=4.03 jankBuild=5 jankRaster=0
SPLASH: Current role: Consultant
âœ… SPLASH: Consultant/team unchanged, no reset needed
ğŸ“Š SPLASH_SERVICE: Cache status - Age: 0s, Meetings: 0, Stale: false
! SPLASH_SERVICE: Warning - returning 0 meetings
ğŸ“Š SPLASH_SERVICE: Team: Echipa Andreea, Cache time: 2025-08-22 21:57:04.058337
CALENDAR_METRICS: filterWeek offset=0 total=0 week=0 filterMs=0
CALENDAR_METRICS: loadWeek totalMs=121 fetchMs=120 filter+setStateMs=0 allMeetings=0 weekMeetings=0
SPLASH: Current role: Consultant
âœ… SPLASH: Consultant/team unchanged, no reset needed
ğŸ“Š SPLASH_SERVICE: Cache status - Age: 0s, Meetings: 0, Stale: false
! SPLASH_SERVICE: Warning - returning 0 meetings
ğŸ“Š SPLASH_SERVICE: Team: Echipa Andreea, Cache time: 2025-08-22 21:57:04.058337
ANIM_METRICS: start | label=area_change to AreaType.form
ğŸ”„ FORM: No focused client at initialization
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
CLIENTS_SERVICE: load_clients_ms | ms=37
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
SPLASH: Current role: Consultant
âœ… SPLASH: Consultant/team unchanged, no reset needed
CALENDAR_METRICS: filterWeek offset=0 total=0 week=0 filterMs=0
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
CLIENTS_SERVICE: load_clients_ms | ms=0
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ANIM_METRICS: end | reason=incoming_completed totalMs=302 frames=20 avgBuildMs=7.59 avgRasterMs=1.46 maxBuildMs=38.91 maxRasterMs=1.83 jankBuild=2 jankRaster=0
SPLASH: Current role: Consultant
âœ… SPLASH: Consultant/team unchanged, no reset needed
ğŸ“Š SPLASH_SERVICE: Cache status - Age: 0s, Meetings: 0, Stale: false
! SPLASH_SERVICE: Warning - returning 0 meetings
ğŸ“Š SPLASH_SERVICE: Team: Echipa Andreea, Cache time: 2025-08-22 21:57:04.058337
CALENDAR_METRICS: loadWeek totalMs=134 fetchMs=134 filter+setStateMs=0 allMeetings=0 weekMeetings=0
SPLASH: Current role: Consultant
âœ… SPLASH: Consultant/team unchanged, no reset needed
ğŸ“Š SPLASH_SERVICE: Cache status - Age: 0s, Meetings: 0, Stale: false
! SPLASH_SERVICE: Warning - returning 0 meetings
ğŸ“Š SPLASH_SERVICE: Team: Echipa Andreea, Cache time: 2025-08-22 21:57:04.058337
MAIN_SCREEN: build_called
ANIM_METRICS: start | label=area_change to AreaType.form
ğŸ”µ TEMP_CLIENT: createTemporaryClient called
ğŸ”µ TEMP_CLIENT: Current focused client before creation: null
ğŸ”µ TEMP_CLIENT: Temporary client created with ID: temp_1755889026669
ğŸ”µ TEMP_CLIENT: Temporary client focused and added to list
ğŸ”µ TEMP_CLIENT: Total clients in list: 1
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client:
MATCHER: Using clientKey="" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ”„ FORM: Client changed - Previous: none, Current:
âš¡ FORM: Processing client change - Previous: none, Current:
âš¡ FORM: Clearing controllers for client change
âš¡ FORM: Skipping form data load for temporary client
âš¡ FORM: Total client selection time: 1ms
[PERF] PERFORMANCE REPORT:
=====================================
âš¡ resetForNewConsultant: 281.80ms avg
âš¡ mainScreenInit: 2.00ms avg
âš¡ formAreaInit: 0.00ms avg
=====================================
Total operations tracked: 3
Active timers: 0
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="" phone1="" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client:
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
[ClientsPopup2] Executing setState in parent after frame
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="R" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="R" phone1="" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: R
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
[ClientsPopup2] Executing setState in parent after frame
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Ro" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="R" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Ro" phone1="" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Ro
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
[ClientsPopup2] Executing setState in parent after frame
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Rob" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Ro" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Rob" phone1="" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Rob
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
[ClientsPopup2] Executing setState in parent after frame
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Rob" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
[ClientsPopup2] Executing setState in parent after frame
MAIN_SCREEN: build_called
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
[ClientsPopup2] Executing setState in parent after frame
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="0" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="0" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="0" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
[ClientsPopup2] Executing setState in parent after frame
ğŸ”„ FORM: Temporary client update - ignoring form reset
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="07" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="0" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="07" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="07" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ”„ FORM: Temporary client update - ignoring form reset
[ClientsPopup2] Executing setState in parent after frame
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="077" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="07" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="077" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="077" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ”„ FORM: Temporary client update - ignoring form reset
[ClientsPopup2] Executing setState in parent after frame
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="0777" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="077" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="0777" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="0777" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ”„ FORM: Temporary client update - ignoring form reset
[ClientsPopup2] Executing setState in parent after frame
[PERF] PERFORMANCE REPORT:
=====================================
âš¡ resetForNewConsultant: 281.80ms avg
âš¡ mainScreenInit: 2.00ms avg
âš¡ formAreaInit: 0.00ms avg
=====================================
Total operations tracked: 3
Active timers: 0
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="07778" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="0777" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="07778" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="07778" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
[ClientsPopup2] Executing setState in parent after frame
ğŸ”„ FORM: Temporary client update - ignoring form reset
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="077788" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="07778" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="077788" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="077788" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
[ClientsPopup2] Executing setState in parent after frame
ğŸ”„ FORM: Temporary client update - ignoring form reset
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="0777888" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="077788" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="0777888" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="0777888" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ”„ FORM: Temporary client update - ignoring form reset
[ClientsPopup2] Executing setState in parent after frame
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="07778883" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="0777888" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="07778883" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="07778883" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ”„ FORM: Temporary client update - ignoring form reset
[ClientsPopup2] Executing setState in parent after frame
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="077788833" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="07778883" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="077788833" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="077788833" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ”„ FORM: Temporary client update - ignoring form reset
[ClientsPopup2] Executing setState in parent after frame
MAIN_SCREEN: build_called
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="0777888333" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="077788833" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="0777888333" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
[ClientsPopup2] _onFormChanged triggered, will schedule setState in parent
MATCHER: Using clientKey="0777888333" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ”„ FORM: Temporary client update - ignoring form reset
[ClientsPopup2] Executing setState in parent after frame
ğŸ”µ TEMP_CLIENT: updateTemporaryClient called with: name="Robi" phone1="0777888333" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: Before update: name="Robi" phone1="0777888333" phone2="null" codebitor="null"
ğŸ”µ TEMP_CLIENT: After update: name="Robi" phone1="0777888333" phone2="null" codebitor="null"
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”µ TEMP_CLIENT: notifyListeners() called after updateTemporaryClient
ğŸ”µ TEMP_CLIENT: Finalizing client: Robi (0777888333)
MATCHER: Using clientKey="0777888333" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ”„ FORM: Temporary client update - ignoring form reset
â• CLIENT: added - 0777888333 â†’ Robi
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”„ FORM: Temporary client update - ignoring form reset
ğŸ”µ TEMP_CLIENT: Firebase creation successful
ğŸ”µ TEMP_CLIENT: Client finalized successfully
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
ğŸ”„ FORM: Client changed - Previous: , Current: 0777888333
âš¡ FORM: Processing client change - Previous: , Current: 0777888333
âš¡ FORM: Clearing controllers for client change
ğŸ”§ FORM_SERVICE: Cleared form data cache for client
ğŸ”§ FORM_AREA: Cleared form data cache for previous client
âš¡ FORM: Loading form data for new client: 0777888333
CLIENTS_SERVICE: load_clients_ms | ms=0
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ğŸ”„ CLIENT: category_change - 0777888333 â†’ clienti
ğŸ”„ FORM: Client changed - Previous: , Current: none
âš¡ FORM: Skipping redundant client change operation
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
[PERF] PERFORMANCE REPORT:
=====================================
âš¡ resetForNewConsultant: 281.80ms avg
âš¡ mainScreenInit: 2.00ms avg
âš¡ formAreaInit: 0.00ms avg
=====================================
Total operations tracked: 3
Active timers: 1
ğŸ”„ FORM: Client changed - Previous: , Current: none
âš¡ FORM: Skipping redundant client change operation
âœ… [FIREBASE_SUCCESS] getClient found matching client
âœ… [FIREBASE_SUCCESS] getClient found matching client
[FIREBASE] GD_VERIFY: getClientForms called for 0777888333
[FIREBASE] GD_VERIFY: loaded 0 forms for 0777888333
âš¡ FORM: Total client selection time: 245ms
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ğŸ”„ FORM: Client changed - Previous: 0777888333, Current: none
âš¡ FORM: Processing client change - Previous: 0777888333, Current: none
âš¡ FORM: Saving form data for previous client: 0777888333
[FIREBASE] FORMS: saveAllFormDataBatched start for 0777888333
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ğŸ”„ FORM: Client changed - Previous: 0777888333, Current: none
âš¡ FORM: Skipping redundant client change operation
âœ… [FIREBASE_SUCCESS] FORMS: saveAllFormDataBatched success for 0777888333 in 169ms
âš¡ FORM: Clearing controllers for client change
ğŸ”§ FORM_SERVICE: Cleared form data cache for client 0777888333
ğŸ”§ FORM_AREA: Cleared form data cache for previous client 0777888333
âš¡ FORM: Total client selection time: 171ms
ğŸ”µ TEMP_CLIENT: No temporary client found in list
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: null
ğŸ¯ CLIENT_SERVICE: Client found at index: 0
ğŸ¯ CLIENT_SERVICE: Cleared focus from: Robi
ğŸ¯ CLIENT_SERVICE: All focus states cleared
âœ… CLIENT_SERVICE: Client focused successfully: 0777888333
âœ… CLIENT_SERVICE: New focused client: Robi
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
MATCHER: Using clientKey="0777888333" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ”„ FORM: Client changed - Previous: none, Current: 0777888333
âš¡ FORM: Processing client change - Previous: none, Current: 0777888333
âš¡ FORM: Clearing controllers for client change
âš¡ FORM: Loading form data for new client: 0777888333
âš¡ FORM: Total client selection time: 0ms
MAIN_SCREEN: build_called
âœ… [FIREBASE_SUCCESS] getClient found matching client
[FIREBASE] GD_VERIFY: getClientForms called for 0777888333
[FIREBASE] GD_VERIFY: loaded 1 forms for 0777888333
DEBUG: Credit type selected: Overdraft
DEBUG: Credit type selected, transforming immediately...
DEBUG: Transforming credit form immediately - Type: Overdraft, IsClient: true
ğŸ”§ FORM_SERVICE: Added new credit form while preserving existing forms for client 0777888333
FormService: schedule autosave for 0777888333 in 600ms
DEBUG: Created new credit form with clean state
DEBUG: Resetting credit form selections
DEBUG: Credit selections reset to null
ğŸ”§ FORM_AREA: Cleared 0 controllers for 0777888333 client credit
ğŸ”§ FORM_AREA: Cleared 0 controllers for 0777888333 coborrower credit
DEBUG: Credit form selections reset
[FIREBASE] FORMS: saveAllFormDataBatched start for 0777888333
ğŸ”„ CLIENT: category_change - 0777888333 â†’ clienti
MATCHER: Using clientKey="0777888333" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
âœ… [FIREBASE_SUCCESS] FORMS: saveAllFormDataBatched success for 0777888333 in 164ms
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
FormService: commit autosave start for 0777888333
FormService: skip commit (no changes) for 0777888333
DEBUG: Credit type selected: Prima casa
DEBUG: Credit type selected, transforming immediately...
DEBUG: Transforming credit form immediately - Type: Prima casa, IsClient: true
ğŸ”§ FORM_SERVICE: Added new credit form while preserving existing forms for client 0777888333
FormService: schedule autosave for 0777888333 in 600ms
DEBUG: Created new credit form with clean state
DEBUG: Resetting credit form selections
DEBUG: Credit selections reset to null
ğŸ”§ FORM_AREA: Cleared 0 controllers for 0777888333 client credit
ğŸ”§ FORM_AREA: Cleared 0 controllers for 0777888333 coborrower credit
DEBUG: Credit form selections reset
[FIREBASE] FORMS: saveAllFormDataBatched start for 0777888333
ğŸ”„ CLIENT: category_change - 0777888333 â†’ clienti
MATCHER: Using clientKey="0777888333" for income cache and lookups
MATCHER: Found income forms client=1, coborrower=1
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
MAIN_SCREEN: build_called
[PERF] PERFORMANCE REPORT:
=====================================
âš¡ resetForNewConsultant: 281.80ms avg
âš¡ loadFormData: 122.50ms avg
âš¡ mainScreenInit: 2.00ms avg
âš¡ formAreaInit: 0.00ms avg
=====================================
Total operations tracked: 4
Active timers: 0
âœ… [FIREBASE_SUCCESS] FORMS: saveAllFormDataBatched success for 0777888333 in 187ms
ğŸ¯ CLIENT_SERVICE: notifyListeners called
ğŸ¯ CLIENT_SERVICE: Current focused client: Robi
FormService: commit autosave start for 0777888333
FormService: skip commit (no changes) for 0777888333
